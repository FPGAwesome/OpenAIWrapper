<!-- Special thanks to chatgpt for writing the boilerplate -->
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Chatbot</title>

  <!-- Include jQuery -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

  <link rel="stylesheet" href="../static/chatwindow.css">

  <!-- Add JavaScript code -->
  <script src="../static/chat.js"></script>
</head>

<body>

  <!-- Chat window -->
  <div id="chat-window"></div>

  <!-- Side panel to input system prompt -->
  <button id="toggle-panel-btn">Toggle Panel</button>
  <div id="side-panel">
    
    <div class="side-panel-content">
      <form>
        <label for="system-prompt"><b>System Prompt</b></label>
        <input type="text" name="system-prompt" id="system-prompt" placeholder="Enter a system prompt...">
        <button type="submit" id="submit-system-prompt-btn">Submit</button>
      </form>
    </div>
  </div>

  <div id="input-panel" style="background: rgb(46 73 105)">
  <!-- Chat form -->
    <form id="chat-form">
      <textarea style="max-height: 200px; max-width:800px; height: 100px" id="user-message"></textarea>
      <input type="submit" id="send-btn" value="Send">
    </form>

    <form id="model-selector" >
      <label for="models">Choose a model:</label>
      <select name="models" id="models" onchange="setModel()">
        <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
        <option value="gpt-4">GPT-4</option>
        <!-- Add more models -->
      </select>
    </form>
  
    <!-- Buttons to save and load chat history -->
    <form method="POST" action="/save_messages" enctype="multipart/form-data">
      <input type="text" name = "filename" id="filename" >
      <button type="submit">Save Chat History</button>
    </form>

    <form id="load-chat-form" method="POST" action="/load_messages" enctype="multipart/form-data">
      <input type="file" name="file" accept=".json">
      <button type="submit">Load Chat History</button>
    </form>

    <form id="clearForm" method="POST" action="/clear_message">
      <button type="submit" class="btn btn-danger">Clear Chat History</button>
    </form>
    
  </div>

</body>
</html>